<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seus Dados Salvos</title>
    <link rel="stylesheet" href="estilo.css">
</head>

<body style="background-color: aliceblue;">
    <h1>Seus Dados Salvos</h1>

    <div class="bt_voltarDadosalvos_excluir">
        <button onclick="window.location.href = 'index1.html'" >Voltar</button>
    </div>

    <ul id="lista_ul"></ul>

    <script>
        let arrayLista = JSON.parse(localStorage.getItem('chaveSalvar')) || [];

        let lista_ul = document.getElementById('lista_ul');

        lista_ul.innerHTML = ""

        arrayLista.forEach((item) => {
            lista_ul.innerHTML += `
            <li><strong>NOME DO PRODUTO:</strong> ${item.NomeProduto}</li>
            <li><strong>CÓDIGO:</strong> ${item.codigo}</li>
            <li><strong>DATA:</strong> ${item.data}</li>
            <li><strong>LOCAL:</strong> ${item.localizacao} &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp  &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp<span onclick="deleta(this)">❌</span> </li> <br>
            ` 
        });

        function deleta(indice) {
        let confirma = window.confirm('Depois de excluido não tem mais como restaura! Irei excluir. Posso excluir?');

        if(confirma) {
            arrayLista.splice(indice, 1); // Remove 1 item no índice escolhido
            localStorage.setItem('chaveSalvar', JSON.stringify(arrayLista)); // Atualiza o localStorage
            window.location.reload(); // Recarrega a página para atualizar a lista
        }
        }
    </script>

    <div style="text-align: center;">
        <button onclick="window.location.href = 'index1.html'" >Voltar</button>
    </div>

</body>
</html>